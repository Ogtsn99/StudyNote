## １章 ソフトウェアエンジニアリングとは何か

### 時間
ソフトウェアエンジニアリングにおいて、ソフトウェアの持続可能性は重要。変化に対応できるようにするべきだ。
最初のアップデートを切る抜けるだけでなく、その後も最新版に追随できる状態にすることがプロジェクトの長期的持続可能性の真髄である。
**Hyrumの法則**
あるAPIに十分な数のユーザーがいるとき、APIを作った者自身が契約仕様としてなにを約束しているかは重要ではない。 **作られたシステムがもつあらゆる観察可能(observable)な挙動に関して、それに依存するユーザーが出てくるものである**。
そこに少しでも複雑さがあれば、将来的に挙動が変わる可能性がある。そして、Hyrumの法則によってその影響を受けるユーザはいるはず。脆い、未公開の機能に依存したコードは、クレバーと言われるが、クレバーが褒め言葉で使われるならそれは「プログラミング」で、悪口で使われるなら「ソフトウェアエンジニアリング」である。
変化それ自体のために変化するべきではないが、変化の能力は備えていなければならない。
### スケール
基本的に複数人で行うので、人数が増えてもうまくスケールし、効率性を落とさないことが重要だ
人件費、計算リソース、そしてコードベースもスケールする必要がある。全体ビルド一回の時間やプログラミング言語のアップデートに対するコストは気づかないうちに大きくなっていく
1.2.1
チャーンルールは、専門家が自分自身で顧客を新バージョンに移行させるか、システムを止めずに後方互換性のある形のどちらかにしなければならないというルール。これは割とスケールする。全顧客に対応法を考えてもらうより、専門家グループを作る方がさっさと終わる。
知識はウイルスのような拡散性がある
1.2.2
Beyonceルール ... テストで検知できない問題はインフラチームの責任ではない。（テストを書いておけばよかったのに）
1.2.3
Googleは2006年のコンパイラのアップデートに非常に苦労した。BeyonceルールもCIシステムも浸透しておらず、リグレッションを出しても責められないという確信を持つことが難しかった。->Googleはスケーリングの問題を克服し、長所に変えるべく、自動化、統合/一貫性、専門知識に注力し始めた。
コードベースの柔軟性に影響する要因は専門知識（アップグレードの方法を知っていること）、安定性（リリースを定期的に、頻繁にしており、リリース間での変化が少ない）、準拠性（アップグレードをすでに経ていないコードはほとんど存在しない）、馴染み深さ（アップグレードを十分に定期的に実施しているので、そのプロセスの冗長性を見出し、自動化できる）、ポリシー（Beyonceルールのようなプロセスやポリシーを有しているか）
1.2.4 左への移動
問題を早期発見するとコストが下がる
### トレードオフ
少ないメトリクス（指標）でトレードオフの判断を迫られる。選択肢は無数にあることが多い
全ての決定にはきちんとした理由を伴うべきである
決定は、私がそういうのだからそうするべきだ、で行ってはならない
1.3.1
ホワイトボードマーカーが切れないよう大量に購入した。思考が途切れるのを防ぐことを優先した結果である。
1.3.2
計測可能 or 計測不可能な2パターンの決定がある。
1.3.3
予期せぬコストが発生することもある。分散ビルドシステムを作ったら、エンジニアがあまり最適化をしなくなってしまった。
1.3.5
決定にその時点でのデータを活用したとしても、時間の経過で新たなデータが入ってきて、コンテキストが変化し、決定が間違いであったことがわかるということもあるだろう。決定者は必ず間違いを認める権利を有すべきで、間違いを認めることは尊敬を勝ちとりこそすれ、失うことはない。
### ソフトウェアエンジニアリング vs プログラミング
ソフトウェアエンジニアリングはプログラミングの上位に位置するなどということはない。制約、価値、ベストプラクティスが異なるというだけの話である。例えば、数日間のみ使用するプログラムにはCIや統合テストは不要である場合が多い。
プログラミングはコードを生産する即時的行動であり、ソフトウェアエンジニアリングはコードを利用しなければならない期間中に有用に保つのに必要であり、また、チームを横断した共同作業を可能にする、ポリシー、プラクティス、ツールのセットである。

## 2章 チームでうまく仕事をするには
結論:「謙虚、尊敬、信頼」とういう中心原則をめぐる自身の行動を改革することが、チームで成功するための鍵である
2.2
超有名な天才であっても、一人では成し遂げられなかっただろう。
未完成の作品を見られ、レベルの低さがバレて馬鹿にされるかもしれないという恐怖から、人は自分の作業を隠したがる。だが、仕事の隠蔽は大問題である。
2.3
単独作業に全ての時間を費やすと、不要な失敗や成長のリスクを逃す恐れがある。
2.3.1
良いアイデアを思いついたと思っても、根本的な欠陥がある可能性がある。人に見せてフィードバックをもらうことで、このリスクを減らせる。
2.3.2
バス係数。バスに轢かれることはなくても、結婚や退職など、予期せぬ事件は起こりがち。単独作業の場合、バスに轢かれるとプロジェクトは一巻の終わりである。また、複数人で作業をすると、行き詰まった時に助けてくれる。
2.3.3
なる早でフィードバックを得よ、テストせよ、セキュリティと本番環境について考慮せよ。
2.3.4
要するに隠れるな。
2.4
ソフトウェアエンジニアリングとは、チームによる取り組みである。
2.4.1
「謙虚、尊敬、信頼」が、共同作業の理想郷への辿り着くための3つの柱である。
謙虚...自己研鑽に対して開かれた存在が自分である。
尊敬...共に仕事をする他者を心から思いやる。
信頼...他者が有能で正義をなすであろうと信じ、適切な場合には他者に舵取りを任せることに異存がない
2.4.2
小さな人付き合いの構築（軽い上端を行ったり、少し親切に接する）は、十分にpayする
2.4.3.1
順応しようと見せかけるだけでも得をする。そうでなれば、ちょっとずつその代償が累積していく。
2.4.3.2
批判は相手を尊敬し、建設的なものにする。
自分という存在と、自分のコードとは別である。自分のコードを否定されたからといって、自分が否定されているわけではない。また、批判を受けた場合にも、相手を信頼し、自分のためを思ってやってくれていると認識する必要がある。フィードバックには謙虚さが必要である。質問を相手に関してではなく、自分に関するものとする工夫を凝らす。
2.4.3.3
1000万ドルという大金を失う大失敗を犯し、辞表を出そうとした重役に対し、CEO「1000万ドルのトレーニング代を払ったばかりなので、解雇はしない！」といった話。失敗は選択肢の一つなのである。失敗することがなかったとすれば、十分に革新的ではないか、十分にリスクをとっていないかのどちらかである。
2.4.4
失敗すると、適切なポストモーテム（事後分析）を行うことが重要だ。失敗を適切にドキュメントすることで、後に続く者の役に立つ。  
適切なポストモーテムは以下を含むだろう。
- 分析対象イベントの要約
- 発見から調査を経て解決に至るまでの分析対象イベントのタイムライン
- 分析対象イベントの主要原因
- 影響と損害の評価
- 問題を直ちに修正するための一連のアクションアイテム（要処理事項とそのオーナー）
- 分析対象イベントが再発するのを防ぐための一連のアクションアイテム
- 学んだ教訓
2.4.4.2
他の誰かのせいで自分の考えが変わる事は問題ない。
過ちを犯したことや、自分の力量が全然足りないことを認めると長い目で見れば自分の信望を高められる。できることのうち「わからない」と言うのが最善なこともあるのだ。
2.4.5
「Google的」であることは、以下の要素を兼ね備えていることと結論づけられた。また、以下を定義した後は、曖昧さをはらんだ「Google的」は使われなくなった。
**曖昧さの中にあっても成功する**
環境が絶えず変化している最中であっても、互いに競合する複数のメッセージや複数の方針に対処でき、合意を形成でき、問題に対して進捗を遂げることができる
**フィードバックを尊重する**
フィードバックを率直に受け、かつ与えるという両方を行える謙虚さを持ち、フィードバックの重要性を理解している
**現状に立ち向かう**
他者からの抵抗や惰性があろうと、野心的なゴールを設定し追求することができる
**ユーザを第一におく**
Google製品のユーザへの共感と尊敬に満ち、ユーザの利益を第一に考えた行動を取る
**チームを思いやる**
同僚に共感と尊敬を持ち、頼まれなくても積極的に手伝い、チームの団結力を強める
**正義をなす**
行うこと全てに強い倫理的感覚を持つ。チームと製品の誠実さを守るためなら、こんなんで不都合な決断を行うことも厭わない。
## 3章 知識共有
学びの文化は非常に大切で、それによって専門家の知識を流通することができる
3.1
学びを阻む課題として挙げられるのが、
**心理的安全性の欠如**
**情報の孤島群**
互いにコミュニケーションがなかったり、共有リソースを利用しない組織のさまざまな部分で起きる知識の断片化
**情報の断片化**
**情報の重複**
**情報のスキュー**
**単一障害点**
バス係数に関係する。善意からも発生しうる。
**全か無かの専門知識**
全てを知るものと全く知らないものに分かれた組織。専門家が自分で全てをやろうとして、新たな専門家の育成に時間をかけない場合に起こることが多い。初心者は自力でなんとかすることになり、立ち上がりの速度が低下する。
**猿真似**
理解せずに物真似すること
**幽霊の出る墓場**
コード内にあることが多い、触ったら（システム全体に影響を出す）バグが出る可能性があるから皆が避ける場所
3.2
組織の成功は、組織が擁する人々の育成と、その人々への投資にかかっている。
ドキュメント化された知識はスケーラブルで、人数が増えても問題がないが、トレードオフとして、ドキュメント化された知識は一般的になるので、専門家との一対一のアドバイス良いは適用できる度合いが低いかもしれない。また、情報を最新のものに保つための保守コストもかかる。
組織慣習的（tribal）な知識は個々のチームメンバーとドキュメント化された知識の間隙にある。
3.3
心理的安全性こそが、学びのための最も重要なものである。物事を試せることと、失敗しても安全であると感じられることである。
3.3.1
メンター制度は、メンティーが他にアドバイスを求めるものを知らない場合に話しかけるためのセーフティネットとなっている。健全な組織では、チームメイトは質問に答えてくれるというだけでなく、質問を尋ねること、知らないことを表明すること、そして、互いから学ぶことに関しても寛容なのである。
3.3.2
質問に答える時に、「えっと、実はね」はやめる。知識を鼻にかけたような訂正だからだ。
3.4
**常に学び続けよ、常に質問し続けよ** これが3章で最も重要な部分。
ヌーグラーは立ち上がりに6ヶ月はかかる
シニアであることを誤って、なんでも知っていることと同一視しないこと。リーダが公然と質問したり、知識を書いている部分を表に出したりすると、それにつづいても問題ないのだと他者は励まされる。
質問を受ける側には忍耐と親切さが求められる。
3.4.2
コードを変更する際は、文脈と目的を理解してから自分の変更が依然として妥当かを考える。妥当なら変更すれば良いし、妥当でないなら、そう考える根拠を将来の読者のためにドキュメント化する
3.5
一対一の議論から何かを学んだら、それを未来の自分のために書き留めておこう＆未来の新人のために共有しよう。
3.6
自分の知識を共有する方法として、オフィスアワー、テックトークと講習、ドキュメンテーション、コードがある。
3.7
知識を共有する文化にとって重要なもの
**尊敬**
専門知識があるけど嫌なやつというのはいらない（嫌なやつ無用）。リーダというものは、周囲の資質を引き上げ、心理的安全性を向上させるものだ。嫌なやつは良きリーダーではない。